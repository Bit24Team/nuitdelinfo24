<!DOCTYPE html>
<html lang="fr">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Riviera Trip</title>
   <link rel="stylesheet" href="style.css">
   <link rel="icon" href="logo.png" type="image/png">
   <style>
       /* Ajout de styles essentiels */
       #gameArea {
           position: center;
           width: 800px;
           height: 400px;
           border: 1px solid #000;
           background-color: #f0f0f0; /* Couleur par défaut avant le Konami Code */
       }

       .game-container {
           margin-top: 20px;
           text-align: center;
       }

       .game-text {
           font-size: 20px;
           margin: 5px;
       }

       .game-over {
           font-size: 30px;
           color: red;
           font-weight: bold;
       }
   </style>
</head>
<body>
    <div id="gameArea">
        <!-- Canvas pour les dessins -->
        <canvas id="jeu" width="800" height="400"></canvas>

        <!-- Zone pour les obstacles, les balles et autres éléments -->
        <div id="obstacles-container"></div> <!-- Conteneur des obstacles -->
    </div>
    
    <div class="game-container">
        <!-- Affichage des informations du jeu -->
        <div class="game-info">
            <div id="score" class="game-text">Score: 0</div>
            <div id="vies" class="game-text">Vies: 3</div>
            <div id="vitesse" class="game-text">Vitesse: 1</div>
        </div>
        
        <!-- Écran de fin de jeu -->
        <div id="gameOver" class="game-over" style="display: none;">
            Game Over
        </div>
    </div>

    <!-- Images préchargées -->
    <div style="display: none;">
        <img id="backgroundImage" src="background.jpg" alt="Background">
        <img id="tronc" src="tronc_d_arbre.png" alt="Tronc d'arbre">
        <img id="obstacleImage" src="obstacle.png" alt="Obstacle">
        <img id="balleImage" src="balle.png" alt="Balle">
        <img id="coeurImage" src="coeur.png" alt="Cœur">
        <img id="bombeImage" src="bombe.png" alt="Bombe">
        <img id="tonneauImage" src="tonneau.png" alt="Tonneau">
        <img id="joueurImage" src="joueur.png" alt="Joueur">
        <img id="vagueImage" src="vague.png" alt="Vague">
        <img id="iaimage" src="ia.png" alt="IA">
        <img id="missileImage" src="missile.png" alt="Missile">
    </div>

    <!-- Script pour le jeu -->
    <script>
        // Fonction pour précharger les images
        function preloadImages(imageIds, callback) {
            let imagesLoaded = 0;
            const totalImages = imageIds.length;
            const images = {};

            imageIds.forEach(function(imageId) {
                const img = document.getElementById(imageId);
                img.onload = function() {
                    imagesLoaded++;
                    if (imagesLoaded === totalImages) {
                        callback(images);
                    }
                };
                img.onerror = function() {
                    console.error('Erreur de chargement de l\'image : ' + img.src);
                };
            });
        }

        // Liste des images à précharger
        const imageIds = [
            'backgroundImage',
            'tronc',
            'obstacleImage',
            'balleImage',
            'coeurImage',
            'bombeImage',
            'tonneauImage',
            'joueurImage',
            'vagueImage',
            'iaimage',
            'missileImage'
        ];

        // Précharger les images et commencer le jeu lorsque tout est chargé
        preloadImages(imageIds, function(images) {
            // Ici, vous pouvez commencer votre jeu car toutes les images sont chargées
            console.log("Toutes les images ont été chargées !");
            // Exemple : démarrer le jeu
            startGame(images);
        });

        // Exemple de fonction de démarrage du jeu (à adapter selon votre logique)
        function startGame(images) {
            console.log("Le jeu commence...");
            // Vous pouvez maintenant utiliser les images préchargées dans le jeu
            // Par exemple, afficher l'image de fond
            const canvas = document.getElementById('jeu');
            const ctx = canvas.getContext('2d');
            ctx.drawImage(images.backgroundImage, 0, 0);
        }
    </script>
</body>
</html>
